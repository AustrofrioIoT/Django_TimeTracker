{% extends 'bases/base.html' %}
{% load static %}
{% block content %}
{{form.media}}

<div class="container">
	<div class="row">
        <div class="col-12 text-center">
            <h1 class="mt-0">Add New Roles</h1>
        </div>
    </div>

	<form id="myform" method="post" action="" autocomplete="off" enctype="multipart/form-data">
	    {% csrf_token %}
    	<div class="row">
	        <div class="col-12">
	            <div class="rounded shadow-sm bg-white">
	                <div class="row p-3 p-lg-4">
	                    <div class="col-12 col-md-6 ">
	                        <div class="p-3 p-lg-4 rounded border ">
	                        	<h4 class="mb-3 mb-lg-4">Role Create</h4>
	                            <div class="form-group row mb-2">
	                                <label class="col-lg-4 col-form-label mb-2 mb-lg-0">
	                                Role</label>
	                                <div class="col-lg-8">{{form.name}}</div>
	                            </div>
	                            <div class="form-group row mb-2">
	                                <label class="col-lg-4 col-form-label mb-2 mb-lg-0">
	                                Department</label>
	                                <div class="col-lg-8">{{form.depatrment}}</div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <div class="row">
                        <div class="col-12 text-center mt-2 mb-lg-4">
                            <a onclick="document.getElementById('myform').submit()" class="btn btn-lg btn-primary">Save</a>
                            <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-lg btn-danger">Cancel</a>
                        </div>
                    </div>
	            </div>
	        </div>
    	</div>
	</form>
</div>

{% endblock content %}
{% block extra_js %}
<script>
	{% if form.errors %}
		var errors = '';
		{% for field in form %}
			{% for error in field.errors %}
				errors += '{{error}}\n';
			{% endfor %}
		{% endfor %}
		{% for error in form.non_field_errors %}
			errors += '{{error}}\n';
		{% endfor %}

		Swal.fire({
			icon: 'error',
			title: 'Oops...',
			text: errors,
			footer: '<a href>Why do I have this issue?</a>'
		});
	{% endif %}

</script>
{% endblock %}