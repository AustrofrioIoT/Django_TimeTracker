{% extends 'bases/base.html' %}
{% load static %}

{% block content %}
{{form.media}}

<div class="container">
    <div class="row">
        <div class="col-12 col-lg-10 col-xl-7 m-auto text-center">
            <h1 class="my-3 my-lg-4 py-2">EventTime Create</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-lg-10 col-xl-7 m-auto">
			<form id="myform" method="post" enctype="multipart/form-data">
	            {% csrf_token %}
	            <div class="form shadow-sm bg-white rounded p-3 p-lg-4">
	                <div class="form-group row mt-3">
	                    <div class="col-12 col-sm-7">
	                        <label class="mb-2">Event Time</label>
								<div >
									<a>{{ form.event }}</a>
								</div>
	                    </div>
	                    <div class="col-12 col-sm-5 mt-3 mt-sm-0">
	                        <label>Event Owner</label>
	                        {{ form.owner }}
	                    </div>
	                </div>
					<div class="form-group row">
	                    <label  class="col-sm-3 col-form-label mb-2 mb-sm-0">Start DateTime</label>
	                    <div class="col-sm-9">
	                        {{ form.start_datetime }}
	                    </div>
	                </div>
	                <div class="row">
	                    <div class="col-12 text-center mt-2 mb-lg-4">
                            <a onclick="document.getElementById('myform').submit()" class="btn btn-lg btn-primary">Save</a>
                            <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-lg btn-danger">Cancel</a>
                        </div>
	                </div>
	            </div>
	        </form>
        </div>
    </div>
</div>
{% endblock %}
{% block extra_js %}
<script>
	{% if form.errors %}
		var errors = '';
		{% for field in form %}
			{% for error in field.errors %}
				errors += '{{error}}\n';
			{% endfor %}
		{% endfor %}
		{% for error in form.non_field_errors %}
			errors += '{{error}}\n';
		{% endfor %}

		Swal.fire({
			icon: 'error',
			title: 'Oops...',
			text: errors,
			footer: '<a href>Why do I have this issue?</a>'
		});
	{% endif %}

</script>
{% endblock %}